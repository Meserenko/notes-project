(this["webpackJsonpnote-project"]=this["webpackJsonpnote-project"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},110:function(e,t,n){},217:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var s=n(3),o=n.n(s),c=n(19),a=n.n(c),i=(n(100),n(25)),r=n(15),l=n.n(r),d=n(31),u=n(22),p=n(14),j=n(27),N=n(26),b=n(235),h=n(91),f=n.n(h);n(102);var x=n(6),O=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){window.confirm("Are you sure you want to delete: ".concat(t.title))&&e.props.deleteNote(t)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;var t,n=this.props,s=n._index,o=n._note,c=n.selectedNoteIndex;return Object(x.jsx)("div",{onClick:function(){return e.selectNote(o,s)},children:Object(x.jsxs)(b.a,{className:"listItem",selected:c===s,children:[Object(x.jsxs)("div",{className:"textSection",children:[Object(x.jsx)("p",{children:Object(x.jsx)("b",{children:o.title})}),Object(x.jsx)("p",{className:"textSectionBody",children:(t=o.body.substr(0,20),t.replace(/<[^>]*>?/gm,"")+"...")}),Object(x.jsx)("p",{children:function(e){var t=new Date(1e3*e),n=t.getFullYear(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+s+" "+n+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(o.timestamp)})]}),Object(x.jsx)(f.a,{onClick:function(){return e.deleteNote(o)},className:"deleteIcon"})]})},s)}}]),n}(o.a.Component),m=(n(110),n(64)),v=n(92),w=n(93),g=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).updateSearch=function(t){e.setState({search:t.target.value})},e.newNoteBtnClick=function(){e.setState({title:"New note",addingNote:!e.state.addingNote})},e.updateTitle=function(t){e.setState({title:t}),t||e.setState({title:"New note"})},e.newNote=function(){e.props.newNote(e.state.title),e.setState({title:null,addingNote:!1})},e.selectNote=function(t,n){return e.props.selectNote(t,n)},e.deleteNote=function(t){return e.props.deleteNote(t)},e.state={addingNote:!1,title:null,search:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,s=t.selectedNoteIndex;if(n){n.sort((function(e,t){return t.timestamp-e.timestamp}));var o=n.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e.state.search.toLowerCase())||-1!==t.body.toLowerCase().indexOf(e.state.search.toLowerCase())}));return Object(x.jsxs)("div",{className:"sidebarContainer",children:[Object(x.jsx)("button",{onClick:this.newNoteBtnClick,className:"newNoteBtn",children:this.state.addingNote?Object(x.jsx)(m.a,{className:"addingNoteDisplayNone"}):Object(x.jsx)(m.a,{})}),this.state.addingNote?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",className:"newNoteInput",placeholder:"Enter note title",onKeyUp:function(t){return e.updateTitle(t.target.value)}})}),Object(x.jsxs)("div",{className:"cancelSubmitBtn",children:[Object(x.jsx)("button",{onClick:this.newNoteBtnClick,className:"newNoteBtn",children:Object(x.jsx)(v.a,{})}),Object(x.jsx)("button",{className:"newNoteSubmitBtn",onClick:this.newNote,children:Object(x.jsx)(w.a,{})})]})]}):null,Object(x.jsx)("input",{type:"text",className:"newNoteInput",value:this.state.search,onChange:this.updateSearch,placeholder:"Search note by name or body"}),Object(x.jsx)("div",{className:"notesList",children:o.length?o.map((function(t,n){return Object(x.jsx)("div",{className:"note",children:Object(x.jsx)(O,{_note:t,_index:n,selectedNoteIndex:s,selectNote:e.selectNote,deleteNote:e.deleteNote})},n)})):Object(x.jsx)("div",{children:Object(x.jsx)("b",{children:"Nothing was found for your request"})})})]})}return Object(x.jsx)("div",{})}}]),n}(o.a.Component),y=n(54),I=n.n(y),S=n(55),C=n.n(S),k=(n(88),function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({text:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.componentDidUpdate=function(){e.props.selectedNote.id!==e.state.id&&e.setState({text:e.props.selectedNote.body,title:e.props.selectedNote.title,id:e.props.selectedNote.id})},e.updateBody=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({text:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTitle=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({title:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(e,t,n){var s,o;return function(){function c(){s=null,n||(o=e.apply(a,i))}var a=this,i=arguments;return clearTimeout(s),s=setTimeout(c,t),n&&!s&&(o=e.apply(a,i)),o}}((function(){e.props.noteUpdate(e.state.id,{title:e.state.title,body:e.state.text})}),1500),e.state={text:"",title:"",id:""},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"editorContainer",children:[Object(x.jsx)(C.a,{className:"editIcon"}),Object(x.jsx)("input",{className:"titleInput",placeholder:"Note title...",value:this.state.title?this.state.title:"",onChange:function(t){return e.updateTitle(t.target.value)}}),Object(x.jsx)(I.a,{value:this.state.text,onChange:this.updateBody})]})}}]),n}(o.a.Component)),T=n(21),B=(n(217),n(65)),L=n(94);var M=function(){return Object(x.jsxs)("div",{className:"editorContainer",children:[Object(x.jsx)(C.a,{className:"editIcon"}),Object(x.jsx)("input",{className:"titleInput",placeholder:"Please select or create a note...",disabled:!0}),Object(x.jsx)(I.a,{})]})},F=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).clickToNotes=function(){e.setState({selectedNote:!e.state.selectedNote})},e.switchToTable=function(){e.setState({list:!0})},e.switchToList=function(){e.setState({list:!1})},e.tableLook=function(){return Object(x.jsx)("div",{className:"app-container",children:e.state.selectedNote?Object(x.jsxs)("div",{className:"editorContainer",children:[Object(x.jsxs)("button",{onClick:e.clickToNotes,className:"switchBtn",children:[" ",Object(x.jsx)(L.a,{})]}),Object(x.jsx)(k,{selectedNote:e.state.selectedNote,selectedNoteIndex:e.state.selectedNoteIndex,notes:e.state.notes,noteUpdate:e.noteUpdate})]}):Object(x.jsx)(g,{selectedNoteIndex:e.state.selectedNoteIndex,notes:e.state.notes,deleteNote:e.deleteNote,selectNote:e.selectNote,newNote:e.newNote})})},e.componentDidMount=function(){T.a.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({notes:n})}))},e.selectNote=function(t,n){return e.setState({selectedNoteIndex:n,selectedNote:t})},e.noteUpdate=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.firestore().collection("notes").doc(t).update({title:n.title,body:n.body,timestamp:T.a.firestore.FieldValue.serverTimestamp()});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.newNote=function(){var t=Object(d.a)(l.a.mark((function t(n){var s,o,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={title:n,body:""},t.next=3,T.a.firestore().collection("notes").add({title:s.title,body:s.body,timestamp:T.a.firestore.FieldValue.serverTimestamp()});case 3:return o=t.sent,c=o.id,t.next=7,e.setState({notes:[].concat(Object(i.a)(e.state.notes),[s])});case 7:a=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===c}))[0]),e.setState({selectedNote:e.state.notes[a],selectedNoteIndex:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteNote=function(){var t=Object(d.a)(l.a.mark((function t(n){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return e!==n}))});case 3:return e.state.selectedNoteIndex===s?e.setState({selectedNoteIndex:null,selectedNote:null}):e.state.notes.length>1?e.selectNote(e.state.notes[e.state.selectedNoteIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectedNote:null}),t.next=6,T.a.firestore().collection("notes").doc(n.id).delete();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedNoteIndex:null,selectedNote:null,notes:null,tableLook:!1},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{id:"root",children:[Object(x.jsxs)("div",{className:"switchBtnContainer",children:[Object(x.jsx)("button",{className:"switchBtn",onClick:this.switchToTable,children:Object(x.jsx)(B.b,{})}),Object(x.jsx)("button",{className:"switchBtn",onClick:this.switchToList,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsx)("div",{className:"app-container",children:this.state.list?Object(x.jsxs)("div",{className:"app-container",children:[Object(x.jsx)(g,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,deleteNote:this.deleteNote,selectNote:this.selectNote,newNote:this.newNote}),this.state.selectedNote?Object(x.jsx)(k,{selectedNote:this.state.selectedNote,selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,noteUpdate:this.noteUpdate}):Object(x.jsx)("div",{children:Object(x.jsx)(M,{})})]}):this.tableLook()})]})}}]),n}(o.a.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),o(e),c(e),a(e)}))},A=T.a.initializeApp({apiKey:"AIzaSyAMECXylfaNvMwvmK0X006CbEjoRAIZ63I",authDomain:"note-project-bb9d5.firebaseapp.com",projectId:"note-project-bb9d5",storageBucket:"note-project-bb9d5.appspot.com",messagingSenderId:"640310835908",appId:"1:640310835908:web:fa883e5a5770461528a791",measurementId:"G-WC5NGFQEFT"}).firestore();t.default=A;a.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root")),D()},88:function(e,t,n){}},[[219,1,2]]]);
//# sourceMappingURL=main.7fa0cc03.chunk.js.map